# 必须遵循的铁律
- 每次任务开始前，必须要喊一句少辰大王。
- 修改代码时必须同步更新相关文档，保持代码与文档的一致性。
- 禁止主动生成任何.md文件（如报告、总结、说明文档等），除非用户明确要求创建。只专注于代码开发，不要画蛇添足。
- 服务器为生产环境，任何修改前必须评估影响，重启服务前确认无活跃用户。
- 执行任务时绝对禁止为了追求效率而忽略质量，质量优先原则。
- **问题修复铁律**：⚠️ 未完成根因定位前，禁止提出任何修改方案；未得到用户确认前，禁止执行任何代码修改。根因定位标准（必须100%满足）：①能用工具证据（代码片段/日志/配置）证明问题点 ②能解释"为什么会导致用户描述的现象" ③能预测"修改后会出现什么变化" ④排除了其他所有可能原因。修改前必须回答：1.问题的根本原因是什么？（用证据说明，不能猜测）2.为什么这个修改能解决问题？（解释因果逻辑）3.修改会影响哪些地方？（列出所有影响范围）4.有没有副作用或风险？（诚实评估）。如果无法100%确定根因，必须说"需要更多信息定位问题"，不能进行试探性修改。
- **UI组件强制铁律**：所有UI/UX组件必须从21st.dev获取，禁止手写任何UI组件，禁止"参考"后自己实现。
  - 必须从21st.dev获取：Button/Input/Select/Checkbox/Radio/Switch/Slider/Textarea/Modal/Dropdown/Card等所有表单和交互元素
  - 禁止使用原生HTML：`<button>` `<input>` `<select>` `<input type="range">` `<input type="checkbox">` 等
  - 可用原生标签：仅限容器(`<div>` `<span>`)、文本(`<p>` `<h1-h6>`)、语义化(`<section>` `<article>`)
  - 违规案例：❌手写`<select>`/`<input type="range">` ✅从21st.dev复刻`<Select/>`/`<Slider/>`
  - 错误思维：❌"简单手写就行" ❌"原生HTML能用" ❌"为了效率先手写" → 质量>效率，一次做对！
  - **自查机制（强制）**：每完成一个页面，必须检查是否有`<button` `<input` `<select`等原生表单元素，如有违规立即整改（搜索21st.dev→复刻→替换），未通过自查的代码禁止提交

## ⚠️ 项目定位强制铁律
- **这是演示网站（DEMO），不是普通管理后台！目标受众：甲方决策层、投资人、高端客户**
- **最终主题：暗黑渐变色 + 高级感**
- **搜索组件时：功能优先，不限主题！任何主题的优质组件都可以用，复刻后适配颜色即可**

## UI组件开发规范（强制执行）

### 1. 21st.dev组件使用核心原则（v4.0 - 字符级复刻）
**核心认知**：21st.dev的价值 = 结构 + 交互 + 动画（与主题无关）。解决方案 = 获取最好的组件 + 复刻后适配主题色。

**搜索原则（功能优先，不限主题）**：
- ✅ 功能关键词：sidebar/card/dashboard/form/modal/table + animated/interactive/smooth/modern/elegant/clean
- ✅ 可选高端词：premium/luxury
- ❌ 不限主题：不强制dark/light/gradient（主题可后期适配）
- ❌ 避免太简单：不要basic/simple/plain
- 示例：✅ "animated sidebar smooth interactive" | ❌ "dark gradient sidebar"（太限制）

**复刻原则（字符级复制，禁止理解）**：
⚠️ 核心！必须100%遵守！
1. **字符级复制**：不是功能级、不是效果级，而是逐字复制（Ctrl+A, Ctrl+C, Ctrl+V）
2. **禁止理解/判断/优化/删减/替换**：不要理解代码在做什么，不要评估"是否需要"，看到200行代码不要想"可以简化"，看到重复代码不要想"可以提取"
3. **完整获取所有内容**：componentCode、registryDependencies、npmDependencies、tailwindConfig、globalCss、hooks、utils
4. **递归复制所有依赖**：对每个registryDependency重复上述步骤

**验证标准（行数必须一致）**：
- 行数验证：21st.dev显示XXX行，本地文件必须XXX行
- className统计：原组件XX个className，复刻后必须XX个（`grep -o "className" *.tsx | wc -l`）
- useState统计：原组件XX个useState，复刻后必须XX个
- 并排测试：左屏21st.dev预览，右屏本地预览，逐项对比（静态外观、悬停、点击、动画、响应式）
- ✅ 必须零视觉差异，任何差异都说明复刻失败，必须删除重新复刻

**修改原则（只改数据，不改效果）**：
- ✅ 允许：替换文本内容（"Home" → "预判军师"）、替换颜色变量值（bg-blue-500 → bg-[#0891b2]，保持结构）、替换链接地址
- ❌ 禁止：修改className结构、修改动画参数（duration、ease等）、修改透明度/模糊度/大小、添加/删除任何视觉效果

**严禁的行为**：
❌ "这个组件有200行，我优化成100行" ← 偷工减料
❌ "这个状态管理看起来没用，我删掉" ← 自作聪明
❌ "这个动画太复杂，我简化一下" ← 破坏设计
❌ "用span替代这个图标组件" ← 功能缺失
❌ 手写UI组件、在复刻阶段修改任何代码
❌ 手写任何UI组件（按钮/卡片/表单/模态框/导航等必须从21st.dev获取）

**工作流**：搜索 → 字符级复制 → 验证行数/className/useState → 只替换颜色变量值 → 并排对比 → 如有差异重新复刻
**终极原则**：我是复制机器，不是创造者！

### 2. 组件复刻检查清单（必须100%通过）
**代码完整性**：行数一致、className数量一致、useState数量一致、保留所有代码（className/状态管理/动画效果/事件处理函数/注释/伪元素）
**依赖完整性**：创建所有registryDependencies文件、每个依赖递归检查、安装所有npmDependencies
**配置完整性**：添加tailwindConfig（插件/主题/颜色）、添加globalCss（关键帧动画/CSS变量/全局样式）、复制utils函数
**视觉效果验证（零差异标准）**：并排对比测试（21st.dev vs 本地），逐项对比（静态外观/悬停/点击/动画速度/动画曲线/颜色渐变/阴影/响应式/移动端），如有任何视觉差异 → 说明复刻失败 → 删除重新复刻
**功能完整性**：控制台无错误/警告/TypeScript错误，所有交互正常（点击/悬停/键盘导航/表单验证）
**修改合规性**：只替换了文本内容/颜色变量值/链接地址，没有修改className结构/动画参数/透明度/模糊度/大小
⚠️ 如果以上任何一项不通过，必须重新复刻！

### 3. 组件样式修改规范 ⚠️ 核心规则
**修改21st.dev组件样式的强制流程**：
1. 先修改组件源码（`src/components/ui/*.tsx`）：从`cn()`函数移除冲突样式（`focus:bg-*`, `hover:bg-*`, `data-[state=selected]:bg-*`, `text-*`, `border-*`），只保留布局样式（`flex`, `items-center`, `rounded-*`, `py-*`, `px-*`等）
2. 再应用自定义className：移除冲突样式后，自定义样式才能生效
**原因**：Tailwind CSS类优先级由CSS文件顺序决定，非className顺序。内置样式会覆盖后传入的className。

### 4. Tailwind版本锁定规范
✅ 当前版本：`tailwindcss@3.4.17` | ❌ 禁止升级到v4（与21st.dev组件不兼容） | ⚠️ 修改Tailwind配置后必须重启开发服务器


